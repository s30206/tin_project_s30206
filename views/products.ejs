<!DOCTYPE html>
<html lang="en">
<head>
    <title>Products</title>
    <link rel="stylesheet" href="/style.css" type="text/css">
</head>
<body>
<div class="container">
    <h2>Products</h2>

    <% if (user && user.role === "employee") { %>
        <form method="GET" action="/products/new">
            <button type="submit">Add product</button>
        </form>
    <% } %>

    <ul>
        <% products.forEach(p => { %>
            <li class="product-item">
                <div>
                    <strong><%= p.Name %></strong> — $<%= p.Price %>
                </div>

                <form method="GET" action="/products/<%= p.ID %>">
                    <button type="submit">Details</button>
                </form>
            </li>
        <% }) %>
    </ul>

    <p class="pagination">

        <% if (currentPage > 1) { %>
            <a href="/products?page=<%= currentPage - 1 %>">previous</a>
            <span> - </span>
        <% } %>

        Page <%= currentPage %> of <%= totalPages %>

        <% if (currentPage < totalPages) { %>
            <span> - </span>
            <a href="/products?page=<%= currentPage + 1 %>">next</a>
        <% } %>

    </p>

    <a href="/dashboard">Back</a>
</div>
</body>
</html>
